<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BALGÇ | Anasayfa</title>
    <link rel="icon" href="assets/img/logo-1.png" />
    <link rel="stylesheet" href="style.css" />
    <style>
      .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
      }

      .section {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        padding: 1rem;
      }

      .section-1 {
        position: relative;
        overflow: hidden;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .section-1::before {
        content: "";
        position: absolute;
        top: -10%;
        left: -10%;
        width: 120%;
        height: 120%;
        background-image: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0),
            #900020 80%
          ),
          url(assets/img/background/_MG_9089.JPG);
        background-size: cover;
        background-position: center;
        filter: blur(10px);
        z-index: -1;
      }
      .section-1 h1,
      .section-1 .apply-button {
        position: relative;
        z-index: 1;
        color: #f2efeb;
        font-family: "Roboto", sans-serif;
        font-weight: 800;
      }

      .section-1 h1,
      .section-1 .apply-button {
        position: relative;
        z-index: 1;
      }

      .section-1 h1 {
        font-size: 2rem;
        margin-bottom: 1rem;
      }

      .section-1 .apply-button {
        padding: 1rem 2rem;
        font-size: 1rem;
        background-color: #900020;
        color: #f2efeb;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .section-1 .apply-button:hover {
        background-color: #700018;
      }

      .section-remaining-time {
        height: 10vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.5rem;
        font-family: "Roboto", sans-serif;
        font-weight: 800;
        color: #f2efeb;
        background-color: #900020;
        background-image: linear-gradient(to bottom, #900020, #900020);
      }

      .section-2 {
        background-color: #900020;
        height: 100vh;
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
        gap: 0.5rem;
        justify-items: center;
        align-items: center;
      }

      .count-box {
        position: relative;
        width: 200px;
        height: 200px;
        background-size: cover;
        background-position: center;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #f2efeb;
        font-size: 1.5rem;
        font-family: "Roboto", sans-serif;
        font-weight: 800;
        border-radius: 10px;
      }

      .count-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
      }

      .section-3 {
        background-color: #900020;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .photo-gallery {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(2, 1fr);
        gap: 1rem;
        width: 80%;
        justify-items: center;
        align-items: center;
      }

      .photo-gallery img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .footer {
        background-color: #700018;
        color: white;
        padding: 1rem;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        font-size: 0.9rem;
        font-family: "Roboto", sans-serif;
        font-weight: 500;
        font-style: italic;
      }

      .footer .social-icons {
        display: flex;
        gap: 1rem;
      }

      .footer .social-icons img {
        width: 24px;
        height: 24px;
        object-fit: contain;
      }

      @media (max-width: 768px) {
        .navbar .logo img {
          width: 40px;
          height: 40px;
        }
      }

      @media (max-width: 768px) {
        .section-1 h1 {
          font-size: 1.5rem;
        }

        .section-1 .apply-button {
          padding: 0.5rem 1rem;
          font-size: 0.9rem;
        }

        .count-box {
          width: 150px;
          height: 150px;
          font-size: 1rem;
        }

        .section-remaining-time {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <div class="logo"><img src="assets/img/logo-1.png" alt="" /></div>
      <div class="menu">
        <a href="apply.html">Başvur</a>
        <a href="committees.html">Komiteler</a>
        <a href="contact.html">İletişim</a>
      </div>
    </div>

    <div class="content">
      <div id="section1" class="section section-1">
        <h1>BAL Gençlik Çalıştayı Şimdi Tekrar Karşınızda!</h1>
        <a href="apply.html">
          <button class="apply-button">Başvurun</button>
        </a>
      </div>

      <div class="section section-remaining-time" id="remaining-time">
        Konferansa Kalan Süre: 00:10:00
      </div>

      <div id="section2" class="section section-2">
        <div
          id="count-box-admin"
          class="count-box"
          style="background-image: url('assets/img/symbol/admin.JPG')"
        >
          <div class="count-overlay">
            <span>Gözlemci:</span>
            <div id="count-admin">0</div>
          </div>
        </div>
        <div
          id="count-box-delegate"
          class="count-box"
          style="background-image: url('assets/img/symbol/delegate.JPG')"
        >
          <div class="count-overlay">
            <span>Delege:</span>
            <div id="count-delegate">0</div>
          </div>
        </div>
        <div
          id="count-box-press"
          class="count-box"
          style="background-image: url('assets/img/symbol/press.JPG')"
        >
          <div class="count-overlay">
            <span>Basın:</span>
            <div id="count-press">0</div>
          </div>
        </div>
        <div
          id="count-box-vice-chair"
          class="count-box"
          style="background-image: url('assets/img/symbol/chair.JPG')"
        >
          <div class="count-overlay">
            <span>Vekil: </span>
            <div id="count-vice-chair">0</div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">Tüm hakları saklıdır © Aras Arkan</div>
    <script>
      const targetDate = new Date("December 6, 2024 00:00:00").getTime();
      function updateCountdown() {
        const now = new Date().getTime();
        const timeRemaining = targetDate - now;

        const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor(
          (timeRemaining % (1000 * 60 * 60)) / (1000 * 60)
        );

        document.getElementById(
          "remaining-time"
        ).textContent = `Kalan Süre: ${days} Gün ${hours} Saat ${minutes} Dakika`;

        if (timeRemaining <= 0) {
          clearInterval(countdownInterval);
          document.getElementById("remaining-time").textContent = "Süre Doldu";
        }
      }

      const countdownInterval = setInterval(updateCountdown, 1000);
    </script>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import {
        getDatabase,
        ref,
        onValue,
      } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCWPy8BkRFzz8HNQFdlW0eC1qxP9I0IShE",
        authDomain: "balgcvi.firebaseapp.com",
        databaseURL:
          "https://balgcvi-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "balgcvi",
        storageBucket: "balgcvi.firebasestorage.app",
        messagingSenderId: "128050952385",
        appId: "1:128050952385:web:3511443e46a226a96bfc40",
        measurementId: "G-3CHWDRHDHJ",
      };

      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);

      async function fetchApplicationCounts() {
        try {
          const countsRef = ref(database, "applicationCounts");
          onValue(countsRef, (snapshot) => {
            const counts = snapshot.val();

            document.getElementById("count-admin").textContent =
              counts?.admin || 0;
            document.getElementById("count-delegate").textContent =
              counts?.delegate || 0;
            document.getElementById("count-press").textContent =
              counts?.press || 0;
            document.getElementById("count-vice-chair").textContent =
              counts?.["vice-chair"] || 0;
          });
        } catch (error) {
          console.error("Başvuru sayıları alınırken bir hata oluştu:", error);
        }
      }

      window.addEventListener("DOMContentLoaded", fetchApplicationCounts);
    </script>
  </body>
</html>
